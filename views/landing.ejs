<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Ella Rises - Dashboard</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=DM+Serif+Display:ital@0;1&family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    body { font-family: 'Montserrat', sans-serif; background: #fff7f4; }
    .ribbon {
      background: linear-gradient(90deg, #FFD8D1, #F9AFB1);
      color: #1f1f1f;
      padding: 12px 18px;
      border-radius: 12px;
      box-shadow: 0 8px 24px rgba(0,0,0,0.08);
    }
    .ribbon .logo-title { font-family: 'DM Serif Display', serif; font-size: 1.8rem; }
    .pill-btn {
      border-radius: 999px;
      font-weight: 600;
      border: none;
      padding: 8px 14px;
    }
    .btn-primary-custom { background: #9AB59D; color: #0f1c10; border: 2px solid #6f8a6f; box-shadow: 0 6px 14px rgba(0,0,0,0.12); }
    .btn-primary-custom:hover { background: #839c85; color: #0f1c10; }
    .btn-ghost { background: transparent; border: 2px solid #9AB59D; color: #0f1c10; }
    .btn-ghost:hover { background: #9AB59D; color: #0f1c10; }
    h1, h2 { font-family: 'DM Serif Display', serif; color: #1f1f1f; }
    .mission-ribbon {
      background: #9AB59D;
      color: #0f1c10;
      border-radius: 14px;
      padding: 18px;
      box-shadow: 0 8px 24px rgba(0,0,0,0.08);
    }
    .image-card {
      background: linear-gradient(135deg, #FFD8D1, #F9AFB1);
      border-radius: 14px;
      padding: 12px;
      box-shadow: 0 10px 26px rgba(0,0,0,0.12);
    }
    .image-card img {
      width: 100%;
      height: auto;
      border-radius: 10px;
      box-shadow: 0 6px 18px rgba(0,0,0,0.15);
      object-fit: cover;
    }
    .links-ribbon {
      background: #fff;
      border: 2px solid #9AB59D;
      border-radius: 12px;
      padding: 10px 14px;
      box-shadow: 0 6px 18px rgba(0,0,0,0.08);
    }
    .pair-ribbon {
      background: linear-gradient(135deg, #fff, #FFD8D1);
      border-radius: 14px;
      padding: 14px;
      box-shadow: 0 10px 26px rgba(0,0,0,0.1);
    }
    .ribbon-alt {
      background: linear-gradient(90deg, #F9AFB1, #FFD8D1);
      border-radius: 14px;
      padding: 14px;
      box-shadow: 0 10px 26px rgba(0,0,0,0.1);
    }
    .statement-ribbon {
      background: #F9AFB1;
      color: #1f1f1f;
      border-radius: 14px;
      padding: 24px;
      box-shadow: 0 10px 26px rgba(0,0,0,0.1);
      text-align: center;
      font-size: 2rem;
      font-family: 'DM Serif Display', serif;
    }
  </style>
</head>

<body class="bg-light">
  <div class="container py-4">

    <!-- Top Ribbon -->
    <header class="ribbon d-flex flex-column flex-lg-row align-items-lg-center gap-3 mb-4">
      <div class="d-flex align-items-center gap-2">
        <img src="/images/logo.png" alt="Ella Rises logo" style="height:80px; width:auto;">
        <div class="logo-title">Ella Rises Portal</div>
      </div>

      <div class="ms-lg-auto d-flex flex-wrap gap-2 align-items-center">
        <a class="btn pill-btn btn-primary-custom" href="/donate">Make a Donation</a>

        <% if (!loggedInLevel) { %>
          <a class="btn pill-btn btn-outline-dark" href="/login">User / Manager Login</a>
        <% } else { %>
          <span class="small text-dark">Logged in as <strong><%= loggedInLevel === 'M' ? 'Manager' : loggedInUserId %></strong></span>
          <a class="btn pill-btn btn-outline-dark" href="/logout">Logout</a>
        <% } %>
      </div>
    </header>

    <% if (loggedInLevel) { %>
      <div class="links-ribbon mb-3 text-center">
        <div class="mb-2" style="font-family:'DM Serif Display',serif; font-size:1.2rem;">Actions</div>
        <div class="d-flex flex-wrap justify-content-center gap-2">
          <% if (loggedInLevel === 'M') { %>
            <a class="btn pill-btn btn-ghost" href="/users?userId=<%= loggedInUserId %>&level=<%= loggedInLevel %>">Users</a>
            <a class="btn pill-btn btn-ghost" href="/participants?userId=<%= loggedInUserId %>&level=<%= loggedInLevel %>">Participants</a>
            <a class="btn pill-btn btn-ghost" href="/events?userId=<%= loggedInUserId %>&level=<%= loggedInLevel %>">Events</a>
            <a class="btn pill-btn btn-ghost" href="/surveys?userId=<%= loggedInUserId %>&level=<%= loggedInLevel %>">Surveys</a>
            <a class="btn pill-btn btn-ghost" href="/milestones?userId=<%= loggedInUserId %>&level=<%= loggedInLevel %>">Milestones</a>
            <a class="btn pill-btn btn-ghost" href="/donations?userId=<%= loggedInUserId %>&level=<%= loggedInLevel %>">Donations</a>
          <% } else { %>
            <a class="btn pill-btn btn-ghost" href="/participants">Participants</a>
            <a class="btn pill-btn btn-ghost" href="/events">Events</a>
            <a class="btn pill-btn btn-ghost" href="/surveys">Surveys</a>
            <a class="btn pill-btn btn-ghost" href="/milestones">Milestones</a>
            <a class="btn pill-btn btn-ghost" href="/donations">Donations</a>
          <% } %>
        </div>
      </div>
    <% } %>

    <!-- Statement ribbon -->
    <div class="statement-ribbon mb-3 d-flex flex-column align-items-center gap-3">
      <img src="/images/logo.png" alt="Ella Rises logo" style="height:240px; width:auto;">
      <div>
        Inviting young women to pursue higher education and embrace their heritage by providing culturally rooted programs and educational experiences.
      </div>
    </div>

    <!-- First image pair -->
    <div class="pair-ribbon mb-4">
      <div class="row g-3">
        <div class="col-md-6 image-card">
          <img src="/images/DSC_0472.NEF.jpg" alt="Ella Rises photo 1">
        </div>
        <div class="col-md-6 image-card">
          <img src="/images/ER Animation Workshop Feb 2021_029.jpg" alt="Ella Rises photo 2">
        </div>
      </div>
    </div>

    <!-- Mission ribbon -->
    <div class="mission-ribbon mb-4 text-center">
      <h2 class="h3 mb-2 text-uppercase" style="letter-spacing:1px; font-size:1.8rem;">Our Mission</h2>
      <p class="mb-0" style="font-size:1.1rem;">
        Empowering young women to pursue higher education through high-impact multicultural activities focused on mariachi and STEAM.
      </p>
    </div>

    <!-- Second image pair -->
    <div class="pair-ribbon mb-4">
      <div class="row g-3">
        <div class="col-md-6 image-card">
          <img src="/images/ER STEM Workshop Aug 2022-09.jpg" alt="Ella Rises photo 3">
        </div>
        <div class="col-md-6 image-card">
          <img src="/images/ER UMFA Mural_072.jpg" alt="Ella Rises photo 4">
        </div>
      </div>
    </div>

    <!-- Embedded Tableau dashboard -->
    <div class="ribbon-alt mb-4">
      <div class="tableauPlaceholder" id="viz1764822878988" style="position: relative">
        <noscript>
          <a href="#">
            <img alt="Ella Rises Impact Dashboard"
                 src="https://public.tableau.com/static/images/IN/INTEXTableauDashboard/EllaRisesImpactDashboard/1_rss.png"
                 style="border: none" />
          </a>
        </noscript>
        <object class="tableauViz" style="display:none;">
          <param name="host_url" value="https%3A%2F%2Fpublic.tableau.com%2F" />
          <param name="embed_code_version" value="3" />
          <param name="site_root" value="" />
          <param name="name" value="INTEXTableauDashboard/EllaRisesImpactDashboard" />
          <param name="tabs" value="no" />
          <param name="toolbar" value="yes" />
          <param name="static_image" value="https://public.tableau.com/static/images/IN/INTEXTableauDashboard/EllaRisesImpactDashboard/1.png" />
          <param name="animate_transition" value="yes" />
          <param name="display_static_image" value="yes" />
          <param name="display_spinner" value="yes" />
          <param name="display_overlay" value="yes" />
          <param name="display_count" value="yes" />
          <param name="language" value="en-US" />
        </object>
      </div>
      <script type="text/javascript">
        var divElement = document.getElementById('viz1764822878988');
        var vizElement = divElement.getElementsByTagName('object')[0];
        var width = divElement.offsetWidth;
        var baseHeight = (width * 0.68);
        if (width > 800) {
          vizElement.style.width = '100%';
          vizElement.style.height = baseHeight + 'px';
        } else if (width > 500) {
          vizElement.style.width = '100%';
          vizElement.style.height = baseHeight + 'px';
        } else {
          vizElement.style.width = '100%';
          vizElement.style.height = '1500px';
        }
        var scriptElement = document.createElement('script');
        scriptElement.src = 'https://public.tableau.com/javascripts/api/viz_v1.js';
        vizElement.parentNode.insertBefore(scriptElement, vizElement);
      </script>
    </div>

    <!-- PUBLIC DONATION RIBBON -->
    <div class="mission-ribbon mb-4 text-center">
      <h2 class="h3 mb-3" style="letter-spacing:1px; font-size:1.8rem;">Help Us Make a Difference</h2>
      <a class="btn pill-btn btn-primary-custom" href="/donate">Donate Today</a>
    </div>

    <div class="text-center mb-4">
      <a href="/teapot">
        <img src="/images/teapot.png" alt="Teapot" style="width:40px; height:auto;">
      </a>
    </div>

  </div>
</body>
</html>
